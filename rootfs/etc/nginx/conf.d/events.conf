# ===================================================================
#  Блок событий (events)
# ===================================================================
#  Управляет моделью обработки подключений: сколько соединений
#  может обслуживать каждый воркер и какой event-loop используется.
# ===================================================================

events {

    worker_connections  10240;   # Максимальное количество одновременных соединений на воркер.
                                 # Подбирается с учётом значения ulimit -n и ожидаемой нагрузки.

    multi_accept        on;      # Позволяет воркеру принимать сразу несколько соединений
                                 # за один цикл событий, снижая overhead при всплесках трафика.

    use                 epoll;   # Использует эффективный event-loop под Linux.
                                 # Предпочтительнее select/poll для high-load систем.
}
